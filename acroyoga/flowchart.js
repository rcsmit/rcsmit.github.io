// https://chatgpt.com/c/6859c419-a1a4-8004-b078-2789d909243d
const data = {
  nodes: [
  
    {
      "id": "acroyoga_pose_101" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "LEGENDA",
      "category":"no_box",
      "x": 1510,
      "y": 780
    },
    {
      "id": "acroyoga_pose_x_1" ,
      "info":"loremp ipsum",
      "video":"l2IFcLpEpMY",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "front plank",
      "category":"pose",
      "x": 36,
      "y": 550
    },
    {
      "id": "acroyoga_pose_x_2" ,
      "info":"loremp ipsum",
      "video":"l2IFcLpEpMY",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "front bird",
      "category":"pose",
      "x": 350,
      "y": 550
    },
    {
      "id": "acroyoga_pose_x_5" ,
      "info":"loremp ipsum",
      "video":"2ONOnNAHT4A",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "folded leaf",
      "category":"pose",
      "x": 650,
      "y": 550
    },
    {
      "id": "acroyoga_pose_x_7" ,
      "info":"loremp ipsum",
      "video":"BqUpzbc2uxM",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "straddle throne",
      "category":"pose",
      "x": 530,
      "y": 640
    },
    {
      "id": "acroyoga_pose_x_8" ,
      "info":"loremp ipsum",
      "video":"dollsSxNWzg",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "chair",
      "category":"pose",
      "x": 530,
      "y": 750
    },
    {
      "id": "acroyoga_pose_x_9" ,
      "info":"loremp ipsum",
      "video":"gixLd-6i9ko",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "foot to shin",
      "category":"pose",
      "x": 350,
      "y": 750
    },
    {
      "id": "acroyoga_pose_x_17" ,
      "info":"loremp ipsum",
      "video":"_f7S0rtE0zI",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "couch",
      "category":"pose",
      "x": 720,
      "y": 640
    },
    {
      "id": "acroyoga_pose_x_21" ,
      "info":"loremp ipsum",
      "video":"qTaM5V8o03M",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse#straddle throne",
      "category":"pose",
      "x": 890,
      "y": 715
    },
    {
      "id": "acroyoga_pose_x_24" ,
      "info":"loremp ipsum",
      "video":"nn5NCMujhV8",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "shin to foot",
      "category":"pose",
      "x": 36,
      "y": 848
    },
    {
      "id": "acroyoga_pose_x_26" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "flamingo",
      "category":"pose",
      "x": 36,
      "y": 758
    },
    {
      "id": "acroyoga_pose_x_29" ,
      "info":"loremp ipsum",
      "video":"dxY9NK9yMYw",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "maria pose",
      "category":"pose",
      "x": 36,
      "y": 948
    },

    // done until here
    {
      "id": "acroyoga_pose_x_31" ,
      "info":"loremp ipsum",
      "video":"4WMAZ67brUc",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "high flying whale",
      "category":"pose",
      "x": 530,
      "y": 850
    },
    {
      "id": "acroyoga_pose_x_33" ,
      "info":"loremp ipsum",
      "video":"3Y_Ojvvgn3g",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "candle stick/#shoulder stand",
      "category":"pose",
      "x": 345,
      "y": 370
    },
    {
      "id": "acroyoga_pose_x_35" ,
      "info":"loremp ipsum",
      "video":"wPz777LU01Y",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "free shoulder stand",
      "category":"pose",
      "x": 553,
      "y": 370
    },
    {
      "id": "acroyoga_pose_x_40" ,
      "info":"loremp ipsum",
      "video":"d_lto3XbRgY",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "side star",
      "category":"pose",
      "x": 36,
      "y": 655
    },
    {
      "id": "acroyoga_pose_x_42" ,
      "info":"loremp ipsum",
      "video":"PZ0oq-SHHnE",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "straddle bat",
      "category":"pose",
      "x": 1201,
      "y": 550
    },
    {
      "id": "acroyoga_pose_x_44" ,
      "info":"loremp ipsum",
      "video":"_erVFJvQi8g",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "inside side star",
      "category":"pose",
      "x": 1201,
      "y": 410
    },
    {
      "id": "acroyoga_pose_x_46" ,
      "info":"loremp ipsum",
      "video":"_erVFJvQi8g",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "inside side star",
      "category":"pose",
      "x": 1348,
      "y": 490
    },
    {
      "id": "acroyoga_pose_x_48" ,
      "info":"loremp ipsum",
      "video":"nZk8rZ1cG8c",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse bird",
      "category":"pose",
      "x": 1488,
      "y": 490
    },
    {
      "id": "acroyoga_pose_x_51" ,
      "info":"loremp ipsum",
      "video":"WCcijC9PyCI",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "floating paschi",
      "category":"pose",
      "x": 1348,
      "y": 680
    },
    {
      "id": "acroyoga_pose_x_55" ,
      "info":"loremp ipsum",
      "video":"PLyfrobh9f4",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "backbird",
      "category":"pose",
      "x": 1302,
      "y": 880
    },
    {
      "id": "acroyoga_pose_x_57" ,
      "info":"loremp ipsum",
      "video":"Vv7wtCZcoaI",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "back leaf",
      "category":"pose",
      "x": 1202,
      "y": 970
    },
    {
      "id": "acroyoga_pose_x_59" ,
      "info":"loremp ipsum",
      "video":"NnzCvcTfTJg",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "boat",
      "category":"pose",
      "x": 1342,
      "y": 970
    },
    {
      "id": "acroyoga_pose_x_63" ,
      "info":"loremp ipsum",
      "video":"AaiXojb-LSA",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "star",
      "category":"pose",
      "x": 900,
      "y": 290
    },
    {
      "id": "acroyoga_pose_y_5" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "handstand in/out#(head side)_",
      "category":"entry_exit",
      "x": 1152,
      "y": 870
    },
    {
      "id": "acroyoga_pose_y_8" ,
      "info":"loremp ipsum",
      "video":"W9oA6iLEeMs",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "four step",
      "category":"washing_machine",
      "x": 900,
      "y": 190
    },
    {
      "id": "acroyoga_pose_y_15" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "cartwheel in_",
      "category":"entry_exit",
      "x": 1201,
      "y": 290
    },
    {
      "id": "acroyoga_pose_y_17" ,
      "info":"loremp ipsum",
      "video":"row_0nk_X4w",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "low barrel roll",
      "category":"transition",
      "x": 809,
      "y": 480
    },
    {
      "id": "acroyoga_pose_y_23" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "helicopter_",
      "category":"transition",
      "x": 720,
      "y": 370
    },
    {
      "id": "acroyoga_pose_y_27" ,
      "info":"loremp ipsum",
      "video":"Xk8uuOm2uwU",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "catherinas#wheel",
      "category":"washing_machine",
      "x": 413,
      "y": 460
    },
    {
      "id": "acroyoga_pose_y_30" ,
      "info":"loremp ipsum",
      "video":"u5eglkm1jv0",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "monkey frog",
      "category":"washing_machine",
      "x": 980,
      "y": 850
    },
    {
      "id": "acroyoga_pose_y_33" ,
      "info":"loremp ipsum",
      "video":"T-jwcZI1WbI",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "corkscrew",
      "category":"transition",
      "x": 719,
      "y": 290
    },
 
    {
      "id": "acroyoga_pose_y_39" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "entry / exit",
      "category":"entry_exit",
      "x": 1510,
      "y": 820
    },
    {
      "id": "acroyoga_pose_y_40" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "pose",
      "category":"pose",
      "x": 1510,
      "y": 913
    },
    {
      "id": "acroyoga_pose_y_41" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "washing machine",
      "category":"washing_machine",
      "x": 1510,
      "y": 1080
    },
    {
      "id": "acroyoga_pose_3" ,
      "info":"loremp ipsum",
      "video":"phsbUzEv_us",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "bed / couch",
      "category":"pose",
      "x": 396,
      "y": 950
    },
    {
      "id": "acroyoga_pose_8" ,
      "info":"loremp ipsum",
      "video":"StZQFy3EykI",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse#foot to hand",
      "category":"pose",
      "x": 265,
      "y": 950
    },
    {
      "id": "acroyoga_pose_10" ,
      "info":"loremp ipsum",
      "video":"8wimvXZDvSA",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse star",
      "category":"pose",
      "x": 659,
      "y": 950
    },
    {
      "id": "acroyoga_pose_11" ,
      "info":"loremp ipsum",
      "video":"qLP9E_mpmFs",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "bird on hand",
      "category":"pose",
      "x": 940,
      "y": 950
    },
    {
      "id": "acroyoga_pose_17" ,
      "info":"loremp ipsum",
      "video":"NIlGbKM06R8",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse shoulderstand",
      "category":"pose",
      "x": 839,
      "y": 850
    },
    {
      "id": "acroyoga_pose_19" ,
      "info":"loremp ipsum",
      "video":"ZoUtn_Z_ULI",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "thinker#secretary",
      "category":"pose",
      "x": 700,
      "y": 850
    },
    {
      "id": "acroyoga_pose_28" ,
      "info":"loremp ipsum",
      "video":"OWtMYyY6KwA",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "around the world",
      "category":"transition",
      "x": 721,
      "y": 720
    },
    {
      "id": "acroyoga_pose_36" ,
      "info":"loremp ipsum",
      "video":"docOE4QT0ec",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "biceps stand",
      "category":"pose",
      "x": 552,
      "y": 260
    },
    {
      "id": "acroyoga_pose_37" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "crocodile_",
      "category":"pose",
      "x": 552,
      "y": 170
    },
    {
      "id": "acroyoga_pose_38" ,
      "info":"loremp ipsum",
      "video":"c-eHZmKy3ro",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "foot to hand",
      "category":"pose",
      "x": 720,
      "y": 170
    },
    {
      "id": "acroyoga_pose_45" ,
      "info":"loremp ipsum",
      "video":"xdsnsqIZaCQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "bow",
      "category":"pose",
      "x": 290,
      "y": 640
    },
    {
      "id": "acroyoga_pose_49" ,
      "info":"loremp ipsum",
      "video":"c-eHZmKy3ro",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "foot to hand",
      "category":"pose",
      "x": 1020,
      "y": 680
    },
    {
      "id": "acroyoga_pose_50" ,
      "info":"loremp ipsum",
      "video":"nZk8rZ1cG8c",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse bird",
      "category":"pose",
      "x": 1160,
      "y": 680
    },
    {
      "id": "acroyoga_pose_60" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "handstand in/out#(legs side)_",
      "category":"entry_exit",
      "x": 340,
      "y": 840
    },
    {
      "id": "acroyoga_pose_61" ,
      "info":"loremp ipsum",
      "video":"NZR0OfbYKA",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "trapdoor",
      "category":"transition",
      "x": 1252,
      "y": 770
    },
    {
      "id": "acroyoga_pose_64" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse#foot to shin_",
      "category":"pose",
      "x": 527,
      "y": 1090
    },
    {
      "id": "acroyoga_pose_66" ,
      "info":"loremp ipsum",
      "video":"4UAfHgjbvxY",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "tuck sit",
      "category":"pose",
      "x": 264,
      "y": 1090
    },
    {
      "id": "acroyoga_pose_67" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "revese shin#to foot_",
      "category":"pose",
      "x": 396,
      "y": 1090
    },
    {
      "id": "acroyoga_pose_68" ,
      "info":"loremp ipsum",
      "video":"8wimvXZDvSA",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse star",
      "category":"pose",
      "x": 345,
      "y": 260
    },
    {
      "id": "acroyoga_pose_69" ,
      "info":"loremp ipsum",
      "video":"kC4daUVQEoY",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "reverse#back plank",
      "category":"pose",
      "x": 530,
      "y": 950
    },
    {
      "id": "acroyoga_pose_72" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "(reverse)#foot to foot_",
      "category":"pose",
      "x": 700,
      "y": 1090
    },
    {
      "id": "acroyoga_pose_73" ,
      "info":"loremp ipsum",
      "video":"diA5w1-L2L8",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "(baby) (reverse)#hand to hand ",
      "category":"pose",
      "x": 900,
      "y": 1090
    },
    {
      "id": "acroyoga_pose_82" ,
      "info":"loremp ipsum",
      "video":"93v90kJcGlE",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "rev. feet to hand ",
      "category":"pose",
      "x": 200,
      "y": 260
    },

    {
      "id": "acroyoga_pose_85" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "Rene Smit @rcsmit#CC BY-NC 4.0 ",
      "category":"no_box",
      "x": 41,
      "y": 1090
    },
    {
      "id": "acroyoga_pose_87" ,
      "info":"loremp ipsum",
      "video":"iHtotyrqt1s",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "koala queen",
      "category":"washing_machine",
      "x": 1060,
      "y": 190
    },
    {
      "id": "acroyoga_pose_88" ,
      "info":"loremp ipsum",
      "video":"6vi2AYwAmqw",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "spider roll",
      "category":"washing_machine",
      "x": 1040,
      "y": 290
    },
    {
      "id": "acroyoga_pose_93" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "START",
      "category":"start",
      "x": 36,
      "y": 430
    },
    {
      "id": "acroyoga_pose_96" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "transition",
      "category":"transition",
      "x": 1510,
      "y": 997
    },
   
    {
      "id": "acroyoga_pose_99" ,
      "info":"loremp ipsum",
      "video":"a8fCNt2Qi2E",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "crunch roll",
      "category":"washing_machine",
      "x": 1111,
      "y": 770
    },
    {
      "id": "acroyoga_pose_106" ,
      "info":"loremp ipsum",
      "video":"eFRgbbsVxNk",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "rotisserie",
      "category":"washing_machine",
      "x": 1356,
      "y": 380
    },
    {
      "id": "acroyoga_pose_110" ,
      "info":"loremp ipsum",
      "video":"qLP9E_mpmFs",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "bird on hands",
      "category":"pose",
      "x": 210,
      "y": 460
    },
    {
      "id": "acroyoga_pose_z_2" ,
      "info":"loremp ipsum",
      "video":"p1oeyEVgRfM",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "ballerina",
      "category":"washing_machine",
      "x": 180,
      "y": 611
    },
    {
      "id": "acroyoga_pose_z_5" ,
      "info":"loremp ipsum",
      "video":"jbtQWzQ3v7g",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "big le moi",
      "category":"washing_machine",
      "x": 174,
      "y": 691
    },
    {
      "id": "acroyoga_pose_117" ,
      "info":"loremp ipsum",
      "video":"yyOFOv-whjs",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "mermaid",
      "category":"transition",
      "x": 791,
      "y": 950
    },
    {
      "id": "acroyoga_pose_119" ,
      "info":"loremp ipsum",
      "video":"yO7kJogH8cA",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "high barrel roll",
      "category":"washing_machine",
      "x": 1201,
      "y": 190
    },
    {
      "id": "acroyoga_pose_z_8" ,
      "info":"loremp ipsum",
      "video":"dQw4w9WgXcQ",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "jump in_",
      "category":"entry_exit",
      "x": 345,
      "y": 160
    },
    {
      "id": "acroyoga_pose_121" ,
      "info":"loremp ipsum",
      "video":"row_0nk_X4w",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "barrel roll",
      "category":"washing_machine",
      "x": 1348,
      "y": 570
    },
    {
      "id": "acroyoga_pose_123" ,
      "info":"loremp ipsum",
      "video":"kyks9JyPPv8",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "buddha roll",
      "category":"transition",
      "x": 1040,
      "y": 610
    },
    {
      "id": "PljVGr8iR2YL2gw-_0Ea-3" ,
      "info":"loremp ipsum",
      "video":"iy_eJDDMXYI",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "table top",
      "category":"pose",
      "x": 952,
      "y": 561
    },
    {
      "id": "acroyoga_pose_z_1" ,
      "info":"loremp ipsum",
      "video":"YKj4G0J-6Xs",
      "photo":"C:\\Users\\rcxsm\\Downloads\\unnamed.jpg",
      "label": "prasarita twist",
      "category":"transition",
      "x": 810,
      "y": 549
    },
    
], 
edges : [
  {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_y_33"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_y_27"
    },
    {
      "source": "acroyoga_pose_x_31",
      "target": "acroyoga_pose_69"
    },
    {
      "source": "acroyoga_pose_x_1",
      "target": "acroyoga_pose_x_2"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_x_5"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_x_7"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_x_33"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_x_33"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_x_33"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_x_33"
    },
    {
      "source": "acroyoga_pose_x_1",
      "target": "acroyoga_pose_x_40"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_y_17"
    },
    {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_110"
    },
    {
      "source": "acroyoga_pose_x_7",
      "target": "acroyoga_pose_x_8"
    },
    {
      "source": "acroyoga_pose_x_7",
      "target": "acroyoga_pose_x_17"
    },
    {
      "source": "acroyoga_pose_x_7",
      "target": "acroyoga_pose_x_17"
    },
    {
      "source": "acroyoga_pose_x_7",
      "target": "acroyoga_pose_28"
    },
    {
      "source": "acroyoga_pose_x_8",
      "target": "acroyoga_pose_x_9"
    },
    {
      "source": "acroyoga_pose_x_8",
      "target": "acroyoga_pose_x_31"
    },
    {
      "source": "acroyoga_pose_x_9",
      "target": "acroyoga_pose_x_24"
    },
    {
      "source": "acroyoga_pose_x_21",
      "target": "acroyoga_pose_y_30"
    },
    {
      "source": "acroyoga_pose_x_21",
      "target": "acroyoga_pose_17"
    },
    {
      "source": "acroyoga_pose_x_21",
      "target": "acroyoga_pose_19"
    },
    {
      "source": "acroyoga_pose_x_21",
      "target": "acroyoga_pose_49"
    },
    {
      "source": "acroyoga_pose_x_21",
      "target": "acroyoga_pose_123"
    },
    {
      "source": "acroyoga_pose_x_24",
      "target": "acroyoga_pose_x_26"
    },
    {
      "source": "acroyoga_pose_x_24",
      "target": "acroyoga_pose_x_26"
    },
    {
      "source": "acroyoga_pose_x_24",
      "target": "acroyoga_pose_x_29"
    },
    {
      "source": "acroyoga_pose_x_31",
      "target": "acroyoga_pose_3"
    },
    {
      "source": "acroyoga_pose_x_31",
      "target": "acroyoga_pose_8"
    },
    {
      "source": "acroyoga_pose_x_31",
      "target": "acroyoga_pose_10"
    },
    {
      "source": "acroyoga_pose_x_33",
      "target": "acroyoga_pose_x_35"
    },
    {
      "source": "acroyoga_pose_x_35",
      "target": "acroyoga_pose_y_23"
    },
    {
      "source": "acroyoga_pose_x_35",
      "target": "acroyoga_pose_36"
    },
    {
      "source": "acroyoga_pose_x_44",
      "target": "acroyoga_pose_x_42"
    },
     {
      "source": "acroyoga_pose_x_2",
      "target": "acroyoga_pose_45"
    },
    {
      "source": "acroyoga_pose_x_42",
      "target": "acroyoga_pose_x_46"
    },
     {
      "source": "acroyoga_pose_x_40",
      "target": "acroyoga_pose_z_2"
    },
    {
      "source": "acroyoga_pose_x_42",
      "target": "acroyoga_pose_x_51"
    },
    {
      "source": "acroyoga_pose_123",
      "target": "acroyoga_pose_x_42"
    },
    {
      "source": "acroyoga_pose_x_63",
      "target": "acroyoga_pose_x_42"
    },
    {
      "source": "acroyoga_pose_x_42",
      "target": "acroyoga_pose_121"
    },
    {
      "source": "acroyoga_pose_y_15",
      "target": "acroyoga_pose_x_44"
    },
    {
      "source": "acroyoga_pose_x_44",
      "target": "acroyoga_pose_106"
    },
    {
      "source": "acroyoga_pose_x_46",
      "target": "acroyoga_pose_x_48"
    },
    {
      "source": "acroyoga_pose_x_48",
      "target": "acroyoga_pose_x_44"
    },
    {
      "source": "acroyoga_pose_x_55",
      "target": "acroyoga_pose_x_57"
    },
    {
      "source": "acroyoga_pose_x_55",
      "target": "acroyoga_pose_x_59"
    },
    {
      "source": "acroyoga_pose_x_55",
      "target": "acroyoga_pose_y_5"
    },
    {
      "source": "acroyoga_pose_x_63",
      "target": "acroyoga_pose_y_8"
    },
    {
      "source": "acroyoga_pose_x_63",
      "target": "acroyoga_pose_87"
    },
    {
      "source": "acroyoga_pose_x_63",
      "target": "acroyoga_pose_88"
    },
    {
      "source": "acroyoga_pose_x_63",
      "target": "acroyoga_pose_119"
    },
    {
      "source": "acroyoga_pose_y_5",
      "target": "acroyoga_pose_x_55"
    },
      {
      "source": "acroyoga_pose_x_9",
      "target": "acroyoga_pose_x_2"
    },
    {
      "source": "acroyoga_pose_y_17",
      "target": "acroyoga_pose_x_42"
    },
    {
      "source": "acroyoga_pose_y_23",
      "target": "acroyoga_pose_x_42"
    },
    {
      "source": "acroyoga_pose_y_33",
      "target": "acroyoga_pose_x_63"
    },
    {
      "source": "acroyoga_pose_17",
      "target": "acroyoga_pose_50"
    },
    {
      "source": "acroyoga_pose_28",
      "target": "acroyoga_pose_x_21"
    },
    {
      "source": "acroyoga_pose_36",
      "target": "acroyoga_pose_37"
    },
    {
      "source": "acroyoga_pose_37",
      "target": "acroyoga_pose_38"
    },
    {
      "source": "acroyoga_pose_38",
      "target": "acroyoga_pose_x_63"
    },
    {
      "source": "acroyoga_pose_60",
      "target": "acroyoga_pose_x_31"
    },
    {
      "source": "acroyoga_pose_49",
      "target": "acroyoga_pose_50"
    },
    {
      "source": "acroyoga_pose_50",
      "target": "acroyoga_pose_61"
    },
    {
      "source": "acroyoga_pose_61",
      "target": "acroyoga_pose_x_55"
    },
    {
      "source": "acroyoga_pose_68",
      "target": "acroyoga_pose_x_33"
    },
    {
      "source": "acroyoga_pose_68",
      "target": "acroyoga_pose_36"
    },
    {
      "source": "acroyoga_pose_68",
      "target": "acroyoga_pose_82"
    },
    {
      "source": "acroyoga_pose_93",
      "target": "acroyoga_pose_x_1"
    },
    {
      "source": "acroyoga_pose_50",
      "target": "acroyoga_pose_99"
    },
    {
      "source": "acroyoga_pose_x_42",
      "target": "acroyoga_pose_49"
    },
    {
      "source": "acroyoga_pose_117",
      "target": "acroyoga_pose_11"
    },
    {
      "source": "acroyoga_pose_x_40",
      "target": "acroyoga_pose_z_5"
    },
    {
      "source": "acroyoga_pose_z_8",
      "target": "acroyoga_pose_68"
    },
    {
      "source": "acroyoga_pose_x_21",
      "target": "acroyoga_pose_x_63"
    },
    {
      "source": "acroyoga_pose_x_5",
      "target": "acroyoga_pose_z_1"
    },
   {
      "source": "acroyoga_pose_x_42",
      "target": "acroyoga_pose_z_1"
    }]
};


  // Add this function after your data definition
  function calculateViewBox(nodes) {
    const padding = 100; // Add some padding around the content
    
    const xCoords = nodes.map(n => n.x);
    const yCoords = nodes.map(n => n.y);
    
    const minX = Math.min(...xCoords) - padding;
    const maxX = Math.max(...xCoords) + padding;
    const minY = Math.min(...yCoords) - padding;
    const maxY = Math.max(...yCoords) + padding;
    
    return {
      x: minX,
      y: minY,
      w: maxX - minX,
      h: maxY - minY
    };
  }

  // Replace your viewBox initialization with:
  let viewBox = calculateViewBox(data.nodes);


const svg = document.getElementById("chart");
const viewGroup = document.getElementById("viewGroup");
const tooltip = document.getElementById("tooltip");
const popup = document.getElementById("popup");

const categoryColors = {
  static: "#e0f7fa",
  transition: "#d8e8f9",
  washing_machine: "#fff1c6",
  default: "#eeeeee",
  pose: "#eeeeee",
  start: "#ffff00",
  entry_exit: "#e5d8ef",
  no_box:"#ffffff"
};

const categoryShapes = {
  static: "rect",
  transition: "hexagon",
  washing_machine: "parallelogram",
  default: "rect",
  pose: "rect",
  start: "circle",
  entry_exit: "ellipse",
  no_box:"none"
};

document.getElementById("zoom-in").onclick = () => zoom(0.9);
document.getElementById("zoom-out").onclick = () => zoom(1.1);
// document.getElementById("home").onclick = () => {
//   viewBox = { x: 0, y: 0, w: 1200, h: 800 };
//   updateViewBox();
// };

 // Update the home button to use the calculated bounds:
  document.getElementById("home").onclick = () => {
    viewBox = calculateViewBox(data.nodes);
    updateViewBox();
  };
// let viewBox = { x: 0, y: 0, w: 1200, h: 800 };
function updateViewBox() {
  svg.setAttribute("viewBox", `${viewBox.x} ${viewBox.y} ${viewBox.w} ${viewBox.h}`);
}
function zoom(factor) {
  viewBox.w *= factor;
  viewBox.h *= factor;
  updateViewBox();
}
updateViewBox();

let isDragging = false;
let start = null;
svg.addEventListener("mousedown", (e) => {
  isDragging = true;
  start = { x: e.clientX, y: e.clientY };
});
svg.addEventListener("mousemove", (e) => {
  if (!isDragging) return;
  const dx = (e.clientX - start.x) * viewBox.w / svg.clientWidth;
  const dy = (e.clientY - start.y) * viewBox.h / svg.clientHeight;
  viewBox.x -= dx;
  viewBox.y -= dy;
  updateViewBox();
  start = { x: e.clientX, y: e.clientY };
});
svg.addEventListener("mouseup", () => isDragging = false);


// =======================



 
drawFlowchart(data.nodes, data.edges);

function drawFlowchart(nodes, links) {
  const defs = document.createElementNS("http://www.w3.org/2000/svg", "defs");
  defs.innerHTML = `
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5"
      orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,5 L0,10" fill="#aaa" />
    </marker>`;
  svg.appendChild(defs);

  links.forEach(link => {
    const s = nodes.find(n => n.id === link.source);
    const t = nodes.find(n => n.id === link.target);
    if (!s || !t) return;
    const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
    line.setAttribute("x1", s.x);
    line.setAttribute("y1", s.y);
    line.setAttribute("x2", t.x);
    line.setAttribute("y2", t.y);
    line.setAttribute("stroke", "#aaa");
    line.setAttribute("stroke-width", "2");
    //line.setAttribute("marker-end", "url(#arrow)");
    viewGroup.appendChild(line);
  });

  nodes.forEach(node => {
    const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
    g.setAttribute("transform", `translate(${node.x}, ${node.y})`);
    g.classList.add("node");

   
    const shapeType = categoryShapes[node.category] || categoryShapes.default;
    const fillColor = categoryColors[node.category] || categoryColors.default;

    SVG_NS = "http://www.w3.org/2000/svg";

    let shape;
    if (shapeType === "ellipse") {
      shape = document.createElementNS(SVG_NS, "ellipse");
      shape.setAttribute("cx", 0);
      shape.setAttribute("cy", 0);
      shape.setAttribute("rx", 50);
      shape.setAttribute("ry", 20);

    } else if (shapeType === "rect") {
      shape = document.createElementNS(SVG_NS, "rect");
      shape.setAttribute("x", -50);
      shape.setAttribute("y", -20);
      shape.setAttribute("width", 100);
      shape.setAttribute("height", 40);

    } else if (shapeType === "hexagon") {
      shape = document.createElementNS(SVG_NS, "polygon");
      // shape.setAttribute("points", "-30,0 -15,-25 15,-25 30,0 15,25 -15,25");
      shape.setAttribute("points", "-60,0 -40,-25 40,-25 60,0 40,25 -40,25");
    } else if (shapeType === "parallelogram") {
      shape = document.createElementNS(SVG_NS, "polygon");
      //shape.setAttribute("points", "10,-20 0,-20 50,20 0,20");
      shape.setAttribute("points", "-40,-20 60,-20 40,20 -60,20");
    }
      else if (shapeType === "circle") {
      shape = document.createElementNS("http://www.w3.org/2000/svg", "circle");
      shape.setAttribute("cx", 0);
      shape.setAttribute("cy", 0);
      shape.setAttribute("r", 30);
    } else if (shapeType === "diamond") {
      shape = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
      shape.setAttribute("points", "0,-20 20,0 0,20 -20,0");
     } else if (shapeType === "no_box") {
      // shape = document.createElementNS("http://www.w3.org/2000/svg", "none");
      // shape.setAttribute("points", "0,-20 20,0 0,20 -20,0");
      shape.setAttribute("stroke", "#fff");
    } else {
      shape = document.createElementNS("http://www.w3.org/2000/svg", "rect");
      shape.setAttribute("x", -50);
      shape.setAttribute("y", -15);
      shape.setAttribute("width", 100);
      shape.setAttribute("height", 30);
      //shape.setAttribute("stroke", "#333");
    }

    shape.setAttribute("fill", fillColor);
  
    g.appendChild(shape);

    // const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
    // text.setAttribute("text-anchor", "middle");
    // text.setAttribute("dy", "5");
    // text.textContent = node.label;


      const parts = node.label.split("#");
  const text = document.createElementNS(SVG_NS, "text");
  text.setAttribute("text-anchor", "middle");
  text.setAttribute("dy", `${-7 * (parts.length - 1)}`); // center vertically
  text.setAttribute("font-family", "Arial, sans-serif");
  parts.forEach((line, i) => {
    const tspan = document.createElementNS(SVG_NS, "tspan");
    tspan.setAttribute("x", 0);
    tspan.setAttribute("dy", i === 0 ? 0 : "15");
    tspan.textContent = line;
    text.appendChild(tspan);
  });

    g.appendChild(text);

    g.addEventListener("mouseover", (e) => {
      tooltip.textContent = node.label;
      tooltip.style.visibility = "visible";
      tooltip.style.left = e.pageX + 10 + "px";
      tooltip.style.top = e.pageY + 10 + "px";
    });

    g.addEventListener("mousemove", (e) => {
      tooltip.style.left = e.pageX + 10 + "px";
      tooltip.style.top = e.pageY + 10 + "px";
    });

    g.addEventListener("mouseleave", () => {
      tooltip.style.visibility = "hidden";
    });

    g.addEventListener("click", (e) => {
        popup.innerHTML = `
        <h3>${node.label.replace(/#/g, ' ')}</h3>
       
        <iframe width="280" height="157" src="https://www.youtube.com/embed/${node.video}?si=EJNPiLa76TiQBHXK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      `;
        

        
        // Temporarily show popup to measure it
        popup.style.display = "block";
        popup.style.visibility = "hidden";

        const popupWidth = popup.offsetWidth;
        const popupHeight = popup.offsetHeight;
        const margin = 15;

        // Calculate position
        let left = e.pageX + margin;
        let top = e.pageY + margin;

        if (left + popupWidth > window.innerWidth) {
          left = e.pageX - popupWidth - margin;
        }
        if (top + popupHeight > window.innerHeight) {
          top = e.pageY - popupHeight - margin;
        }
        popup.style.fontFamily = "Arial, sans-serif";
        // Set position
        popup.style.left = `${left}px`;
        popup.style.top = `${top}px`;
        popup.style.visibility = "visible";
      });
            


    // g.addEventListener("click", () => {
    //   popup.innerHTML = `
    //     <h3>${node.label}</h3>
    //     <p>${node.label}.</p>
    //     <p><img src=${node.photo} width="280"></p>

    //     <iframe width="280" height="157" src="https://www.youtube.com/embed/${node.video}?si=EJNPiLa76TiQBHXK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    //   `;
    //   popup.style.display = "block";
    // });

    viewGroup.appendChild(g);
  });
}

svg.addEventListener("click", (e) => {
  if (!e.target.closest("g")) {
    popup.style.display = "none";
  }
});

// SEARCH

// Add this CSS for search highlighting (add to your existing styles)
const searchStyles = `
  .search-container {
    position: absolute;
    top: 60px;
    right: 10px;
    z-index: 1000;
    background: white;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    font-family:Arial, sans-serif;
  }
  
  .search-input {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 3px;
    width: 200px;
    font-size: 14px;
    font-family:Arial, sans-serif;
  }
  
  .search-results {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #ccc;
    border-top: none;
    background: white;
    display: none;
    font-family:Arial, sans-serif;
  }
  
  .search-result-item {
    padding: 8px;
    cursor: pointer;
    border-bottom: 1px solid #eee;
    font-family:Arial, sans-serif;
  }
  
  .search-result-item:hover {
    background-color: #f0f0f0;
  }
  
  .highlighted-node {
    stroke: #ff6b6b !important;
    stroke-width: 4px !important;
    animation: pulse 1.5s ease-in-out 3;
  }
  
  @keyframes pulse {
    0%, 100% { stroke-width: 4px; }
    50% { stroke-width: 6px; }
  }
`;

// Add styles to document
const styleSheet = document.createElement('style');
styleSheet.textContent = searchStyles;
document.head.appendChild(styleSheet);

// Create search container HTML
const searchHTML = `
  <div class="search-container">
    <input type="text" class="search-input" placeholder="Search poses..." id="searchInput">
    <div class="search-results" id="searchResults"></div>
  </div>
`;

// Add search container to the page (assuming you have a container div)
document.body.insertAdjacentHTML('afterbegin', searchHTML);

// Search functionality
const searchInput = document.getElementById('searchInput');
const searchResults = document.getElementById('searchResults');
let currentHighlightedNode = null;

function searchPoses(query) {
  if (!query.trim()) {
    searchResults.style.display = 'none';
    return [];
  }
  
  const results = data.nodes.filter(node => 
    node.label.toLowerCase().includes(query.toLowerCase()) ||
    node.id.toLowerCase().includes(query.toLowerCase())
  );
  
  return results;
}

function displaySearchResults(results) {
  if (results.length === 0) {
    searchResults.innerHTML = '<div class="search-result-item">No results found</div>';
  } else {
    searchResults.innerHTML = results.map(node => 
      `<div class="search-result-item" data-node-id="${node.id}">
        ${node.label} <small>(${node.category})</small>
      </div>`
    ).join('');
  }
  
  searchResults.style.display = 'block';
}

function highlightNode(nodeId) {
  // Remove previous highlight
  if (currentHighlightedNode) {
    currentHighlightedNode.classList.remove('highlighted-node');
  }
  
  // Find and highlight the new node
  const nodeElements = document.querySelectorAll('.node');
  nodeElements.forEach(nodeElement => {
    const nodeData = data.nodes.find(n => 
      nodeElement.getAttribute('transform').includes(`translate(${n.x}, ${n.y})`)
    );
    
    if (nodeData && nodeData.id === nodeId) {
      const shape = nodeElement.querySelector('rect, circle, ellipse, polygon');
      if (shape) {
        shape.classList.add('highlighted-node');
        currentHighlightedNode = shape;
        
        // Pan to the node
        panToNode(nodeData);
        
        // Show popup after a short delay
        setTimeout(() => showNodePopup(nodeData), 500);
      }
    }
  });
}

function panToNode(node) {
  // Center the view on the selected node
  viewBox.x = node.x - viewBox.w / 2;
  viewBox.y = node.y - viewBox.h / 2;
  updateViewBox();
}

function showNodePopup(node) {
  // Create popup content
  popup.innerHTML = `
   
    <h3>${node.label.replace(/#/g, ' ')}</h3>
   
    <iframe width="280" height="157" src="https://www.youtube.com/embed/${node.video}?si=EJNPiLa76TiQBHXK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  `;
  
  // Position popup in center of screen
  popup.style.display = "block";
  // popup.style.left = "50%";
  // popup.style.top = "50%";
  // popup.style.transform = "translate(-50%, -50%)";
  popup.style.left = "20%";
  popup.style.top = "50%";
  popup.style.transform = "translate(-50%, -50%)";
  popup.style.position = "fixed";
  popup.style.visibility = "visible";
  popup.style.fontFamily = "Arial, sans-serif";
}

// Event listeners
searchInput.addEventListener('input', (e) => {
  const query = e.target.value;
  const results = searchPoses(query);
  displaySearchResults(results);
});

searchInput.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') {
    const results = searchPoses(e.target.value);
    if (results.length > 0) {
      highlightNode(results[0].id);
      searchResults.style.display = 'none';
    }
  }
  
  if (e.key === 'Escape') {
    searchResults.style.display = 'none';
    searchInput.blur();
  }
});

searchResults.addEventListener('click', (e) => {
  const resultItem = e.target.closest('.search-result-item');
  if (resultItem && resultItem.dataset.nodeId) {
    highlightNode(resultItem.dataset.nodeId);
    searchResults.style.display = 'none';
    searchInput.value = '';
  }
});

// Hide search results when clicking outside
document.addEventListener('click', (e) => {
  if (!e.target.closest('.search-container')) {
    searchResults.style.display = 'none';
  }
});

// Clear highlight when clicking on SVG background
svg.addEventListener("click", (e) => {
  if (!e.target.closest("g")) {
    popup.style.display = "none";
    if (currentHighlightedNode) {
      currentHighlightedNode.classList.remove('highlighted-node');
      currentHighlightedNode = null;
    }
  }
});